import{r as i,h as c,j as e,M as p,U as n}from"./app-C6TZeccX.js";import{A as y}from"./AuthenticatedLayout-f4oES0j-.js";import{D as u}from"./DangerButton-COoC9oes.js";import{P as b}from"./PrimaryButton-CeVkU3Vv.js";import{S as j}from"./SecondaryButton-BofyTtew.js";import{T as f}from"./TextInput-C1j5k6Oi.js";import"./ApplicationLogo-CaBVIHqp.js";import"./transition-DqBR6ccS.js";function A({auth:t,roles:x}){const{user:a}=t,s=r=>{var o;return(o=a==null?void 0:a.all_permissions)==null?void 0:o.includes(r)};i.useEffect(()=>{s("view_roles")||c.visit(route("dashboard"))},[]);const[d,h]=i.useState(""),m=r=>{h(r.target.value)},l=x.filter(r=>r.name.toLowerCase().includes(d.toLowerCase())),g=r=>{if(!s("delete_roles")){alert("You do not have permission to delete roles");return}confirm("Are you sure you want to delete this role?")&&c.delete(route("roles.destroy",r))};return e.jsxs(y,{user:t.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Roles"}),children:[e.jsx(p,{title:"Roles"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsx("div",{className:"flex items-center w-1/3",children:e.jsx(f,{type:"text",name:"search",value:d,onChange:m,placeholder:"Search roles...",className:"block w-full dark:bg-gray-900 dark:text-gray-100"})}),s("create_roles")&&e.jsx(n,{href:route("roles.create"),children:e.jsxs(b,{children:[e.jsx("span",{className:"mr-2",children:"+"}),"Create Role"]})})]}),e.jsx("div",{className:"overflow-x-auto bg-white rounded shadow dark:bg-gray-800",children:e.jsxs("table",{className:"w-full whitespace-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"font-bold text-left bg-gray-50 dark:bg-gray-700",children:[e.jsx("th",{className:"px-6 pt-5 pb-4 dark:text-gray-200",children:"Name"}),e.jsx("th",{className:"px-6 pt-5 pb-4 dark:text-gray-200",children:"Guard Name"}),e.jsx("th",{className:"px-6 pt-5 pb-4 dark:text-gray-200",children:"Actions"})]})}),e.jsxs("tbody",{children:[l.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 focus-within:bg-gray-50 dark:hover:bg-gray-700 dark:focus-within:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 dark:text-gray-200",children:r.name}),e.jsx("td",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 dark:text-gray-200",children:r.guard_name}),e.jsx("td",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[s("edit_roles")&&e.jsx(n,{href:route("roles.edit",r.id),children:e.jsx(j,{children:"Edit"})}),s("delete_roles")&&e.jsx(u,{onClick:()=>g(r.id),children:"Delete"})]})})]},r.id)),l.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"px-6 py-4 text-center border-t border-gray-200 dark:border-gray-700 dark:text-gray-400",colSpan:"2",children:"No roles found."})})]})]})})]})})})})]})}export{A as default};
