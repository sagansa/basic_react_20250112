import{r as j,j as a}from"./app-C6TZeccX.js";import{I as t}from"./InputError-BdIwntLj.js";import{I as i}from"./InputLabel-BnJ3Sk5Y.js";import{P as _}from"./PrimaryButton-CeVkU3Vv.js";import{T as d}from"./TextInput-C1j5k6Oi.js";import{S as p}from"./SelectInput-BX9ig2w9.js";import{f as h,p as k}from"./currency-DZ2idywD.js";function P({data:s,setData:r,errors:l,processing:o,submit:y,productGolds:c=[],priceSources:g=[],isEdit:x=!1}){j.useEffect(()=>{if(s.date){const e=new Date(s.date).toISOString().split("T")[0];r("date",e)}},[]);const u=(e,m)=>{const b=k(e.target.value);r(m,b)},n=({title:e,description:m})=>a.jsxs("div",{className:"mb-4 text-left",children:[a.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100",children:e}),m&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:m}),a.jsx("div",{className:"mt-2 border-b border-gray-200 dark:border-gray-700"})]});return a.jsxs("form",{onSubmit:y,className:"space-y-8",children:[a.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700",children:[a.jsx(n,{title:"Identitas Emas",description:"Informasi utama mengenai produk emas fisik."}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx(i,{htmlFor:"product_gold_id",value:"Produk Emas",className:"dark:text-gray-200"}),a.jsxs(p,{id:"product_gold_id",name:"product_gold_id",value:s.product_gold_id||"",onChange:e=>r("product_gold_id",e.target.value),className:"block mt-1 w-full",disabled:x,children:[a.jsx("option",{value:"",children:"-- Pilih Produk / Varian --"}),Array.isArray(c)&&c.map(e=>{var m;return a.jsxs("option",{value:e.id,children:[e.name," (",((m=e==null?void 0:e.unit)==null?void 0:m.unit)||"No Unit"," - ",e.weight,"g)"]},e.id)})]}),a.jsx(t,{message:l.product_gold_id,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"sn",value:"Serial Number (SN)",className:"dark:text-gray-200"}),a.jsx(d,{id:"sn",type:"text",name:"sn",value:s.sn,onChange:e=>r("sn",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100",placeholder:"Contoh: A12345678"}),a.jsx(t,{message:l.sn,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"production_year",value:"Tahun Produksi",className:"dark:text-gray-200"}),a.jsx(d,{id:"production_year",type:"number",name:"production_year",value:s.production_year,onChange:e=>r("production_year",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100",placeholder:"Contoh: 2023"}),a.jsx(t,{message:l.production_year,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"gold_price_source_id",value:"Sumber Harga",className:"dark:text-gray-200"}),a.jsx("p",{className:"mb-2 text-xs text-gray-500 dark:text-gray-400",children:"Digunakan untuk tracking nilai pasar (Market Value)."}),a.jsxs(p,{id:"gold_price_source_id",name:"gold_price_source_id",value:s.gold_price_source_id||"",onChange:e=>r("gold_price_source_id",e.target.value),className:"block mt-1 w-full",children:[a.jsx("option",{value:"",children:"Default (Sesuai Aturan Sistem)"}),Array.isArray(g)&&g.map(e=>a.jsxs("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))]}),a.jsx(t,{message:l.gold_price_source_id,className:"mt-2"})]})]})]}),a.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700",children:[a.jsx(n,{title:"Data Transaksi Beli",description:"Detail perolehan barang dan harga beli."}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(i,{htmlFor:"date",value:"Tanggal Pembelian",className:"dark:text-gray-200"}),a.jsx(d,{id:"date",type:"date",name:"date",value:s.date,onChange:e=>r("date",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100"}),a.jsx(t,{message:l.date,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"receipt_no",value:"Nomor Nota / Kwitansi",className:"dark:text-gray-200"}),a.jsx(d,{id:"receipt_no",type:"text",name:"receipt_no",value:s.receipt_no,onChange:e=>r("receipt_no",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100",placeholder:"Opsional"}),a.jsx(t,{message:l.receipt_no,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"buy_from",value:"Beli Dari (Toko/Orang)",className:"dark:text-gray-200"}),a.jsx(d,{id:"buy_from",type:"text",name:"buy_from",value:s.buy_from,onChange:e=>r("buy_from",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100",placeholder:"Nama Toko atau Penjual"}),a.jsx(t,{message:l.buy_from,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"buy_price",value:"Harga Beli Total (IDR)",className:"dark:text-gray-200"}),a.jsx("div",{className:"relative",children:a.jsx(d,{id:"buy_price",type:"text",name:"buy_price",value:h(s.buy_price),onChange:e=>u(e,"buy_price"),className:"block mt-1 w-full font-semibold text-blue-600 dark:bg-gray-900 dark:text-blue-400",placeholder:"Rp 0"})}),a.jsx(t,{message:l.buy_price,className:"mt-2"})]})]})]}),a.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700",children:[a.jsx(n,{title:"Lokasi Penyimpanan",description:"Dimana barang ini disimpan saat ini."}),a.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx(i,{htmlFor:"stored_in",value:"Lokasi / Dompet / Brankas",className:"dark:text-gray-200"}),a.jsx(d,{id:"stored_in",type:"text",name:"stored_in",value:s.stored_in,onChange:e=>r("stored_in",e.target.value),className:"block mt-1 w-full dark:bg-gray-900 dark:text-gray-100",placeholder:"Contoh: Brankas Utama, Dompet Emas Hitam"}),a.jsx(t,{message:l.stored_in,className:"mt-2"})]})})]}),x&&a.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg shadow-sm dark:bg-gray-900 dark:border-gray-600",children:[a.jsx(n,{title:"Status Penjualan",description:"Isi bagian ini HANYA jika barang sudah terjual."}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(i,{htmlFor:"sell_price",value:"Harga Jual (IDR)",className:"dark:text-gray-200"}),a.jsx("div",{className:"relative",children:a.jsx(d,{id:"sell_price",type:"text",name:"sell_price",value:h(s.sell_price),onChange:e=>u(e,"sell_price"),className:"block mt-1 w-full font-semibold text-green-600 dark:bg-gray-800 dark:text-green-400",placeholder:"Rp 0"})}),a.jsx(t,{message:l.sell_price,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(i,{htmlFor:"sell_to",value:"Dijual Kepada",className:"dark:text-gray-200"}),a.jsx(d,{id:"sell_to",type:"text",name:"sell_to",value:s.sell_to,onChange:e=>r("sell_to",e.target.value),className:"block mt-1 w-full dark:bg-gray-800 dark:text-gray-100",placeholder:"Nama Pembeli"}),a.jsx(t,{message:l.sell_to,className:"mt-2"})]})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(_,{className:"px-6 py-3 text-base",disabled:o,children:o?"Menyimpan...":"Simpan Data"})})]})}export{P as default};
