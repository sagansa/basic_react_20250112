import{a as b,j as s,M as y}from"./app-C6TZeccX.js";import{A as v}from"./AuthenticatedLayout-f4oES0j-.js";import{I as d}from"./InputError-BdIwntLj.js";import{I as o}from"./InputLabel-BnJ3Sk5Y.js";import{P as k}from"./PrimaryButton-CeVkU3Vv.js";import{T as C}from"./TextInput-C1j5k6Oi.js";import{C as A}from"./Checkbox-FFHXHoK6.js";import"./ApplicationLogo-CaBVIHqp.js";import"./transition-DqBR6ccS.js";function M({auth:x,permissions:i}){const{data:r,setData:l,post:u,processing:h,errors:n}=b({name:"",permissions:[]}),p=i.reduce((e,t)=>{const[a,m]=t.name.split("_");return e[m]||(e[m]=[]),e[m].push(t),e},{}),j=e=>{e.preventDefault(),u(route("roles.store"))},g=e=>{const t=r.permissions.includes(e)?r.permissions.filter(a=>a!==e):[...r.permissions,e];l("permissions",t)},f=()=>{const e=i.map(a=>a.id);e.every(a=>r.permissions.includes(a))?l("permissions",[]):l("permissions",e)},c=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",N=e=>{const[t]=e.split("_");return c(t)};return s.jsxs(v,{user:x.user,header:s.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Create Role"}),children:[s.jsx(y,{title:"Create Role"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:s.jsx("div",{className:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg",children:s.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(o,{htmlFor:"name",value:"Name",className:"dark:text-gray-200"}),s.jsx(C,{id:"name",type:"text",name:"name",value:r.name,className:"block w-full mt-1 dark:bg-gray-900 dark:text-gray-100",onChange:e=>l("name",e.target.value)}),s.jsx(d,{message:n.name,className:"mt-2"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(o,{value:"Permissions",className:"dark:text-gray-200"}),s.jsx("button",{type:"button",onClick:f,className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:i.every(e=>r.permissions.includes(e.id))?"Unselect All":"Select All"})]}),Object.entries(p).map(([e,t])=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"mb-3 text-lg font-medium text-gray-900 dark:text-gray-100",children:c(e)}),s.jsx("div",{className:"grid grid-cols-1 gap-4 pl-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(a=>s.jsxs("label",{className:"flex items-center dark:text-gray-200",children:[s.jsx(A,{name:"permissions",value:a.id,checked:r.permissions.includes(a.id),onChange:()=>g(a.id)}),s.jsx("span",{className:"ml-2",children:N(a.name)})]},a.id))})]},e)),s.jsx(d,{message:n.permissions,className:"mt-2"})]}),s.jsx("div",{className:"flex items-center justify-end mt-4",children:s.jsx(k,{className:"ml-4",disabled:h,children:"Create Role"})})]})})})})})]})}export{M as default};
