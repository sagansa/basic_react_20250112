import{r as u,a as w,j as e,M as C,h as M}from"./app-C6TZeccX.js";import{A as _}from"./AuthenticatedLayout-f4oES0j-.js";import{P as b}from"./PrimaryButton-CeVkU3Vv.js";import{D as A}from"./DangerButton-COoC9oes.js";import{S as g}from"./SecondaryButton-BofyTtew.js";import{T as l}from"./TextInput-C1j5k6Oi.js";import{I as c}from"./InputLabel-BnJ3Sk5Y.js";import{I as o}from"./InputError-BdIwntLj.js";import{M as I}from"./Modal-MlepS3qn.js";import"./ApplicationLogo-CaBVIHqp.js";import"./transition-DqBR6ccS.js";import"./dialog-C5SX8smN.js";function G({auth:j,sources:n}){const[N,m]=u.useState(!1),[a,x]=u.useState(null),{data:t,setData:s,post:y,put:v,delete:D,processing:f,errors:i,reset:h}=w({name:"",code:"",description:"",is_active:!0}),p=(r=null)=>{r?(x(r),s({name:r.name,code:r.code,description:r.description||"",is_active:r.is_active})):(x(null),h()),m(!0)},d=()=>{m(!1),h()},k=r=>{r.preventDefault(),a?v(route("gold-price-sources.update",a.id),{onSuccess:d}):y(route("gold-price-sources.store"),{onSuccess:d})},S=r=>{confirm("Are you sure you want to delete this source?")&&M.delete(route("gold-price-sources.destroy",r))};return e.jsxs(_,{user:j.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Manage Price Sources"}),children:[e.jsx(C,{title:"Price Sources"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx(b,{onClick:()=>p(),children:"Add New Source"})}),e.jsx("div",{className:"overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg",children:e.jsx("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-b dark:border-gray-700",children:"Name"}),e.jsx("th",{className:"p-4 border-b dark:border-gray-700",children:"Code"}),e.jsx("th",{className:"p-4 border-b dark:border-gray-700",children:"Description"}),e.jsx("th",{className:"p-4 border-b dark:border-gray-700",children:"Status"}),e.jsx("th",{className:"p-4 border-b dark:border-gray-700",children:"Actions"})]})}),e.jsxs("tbody",{children:[n.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"p-4 border-b dark:border-gray-700",children:r.name}),e.jsx("td",{className:"p-4 border-b dark:border-gray-700",children:r.code}),e.jsx("td",{className:"p-4 border-b dark:border-gray-700",children:r.description}),e.jsx("td",{className:"p-4 border-b dark:border-gray-700",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.is_active?"Active":"Inactive"})}),e.jsxs("td",{className:"p-4 border-b dark:border-gray-700",children:[e.jsx(g,{onClick:()=>p(r),className:"mr-2",children:"Edit"}),e.jsx(A,{onClick:()=>S(r.id),children:"Delete"})]})]},r.id)),n.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"p-4 text-center text-gray-500 border-b dark:border-gray-700",children:"No price sources found."})})]})]})})})]})}),e.jsx(I,{show:N,onClose:d,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:a?"Edit Price Source":"Add New Price Source"}),e.jsxs("form",{onSubmit:k,className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"name",value:"Name"}),e.jsx(l,{id:"name",type:"text",className:"block w-full mt-1",value:t.name,onChange:r=>s("name",r.target.value),required:!0}),e.jsx(o,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"code",value:"Code"}),e.jsx(l,{id:"code",type:"text",className:"block w-full mt-1",value:t.code,onChange:r=>s("code",r.target.value),required:!0}),e.jsx(o,{message:i.code,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(c,{htmlFor:"description",value:"Description"}),e.jsx(l,{id:"description",type:"text",className:"block w-full mt-1",value:t.description,onChange:r=>s("description",r.target.value)}),e.jsx(o,{message:i.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{id:"is_active",type:"checkbox",className:"text-blue-600 border-gray-300 rounded shadow-sm focus:ring-blue-500 dark:bg-gray-900 dark:border-gray-700",checked:t.is_active,onChange:r=>s("is_active",r.target.checked)}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(g,{onClick:d,className:"mr-3",children:"Cancel"}),e.jsx(b,{disabled:f,children:a?"Update":"Save"})]})]})]})})]})}export{G as default};
